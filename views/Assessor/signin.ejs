<!DOCTYPE html>
<html lang="en">

<head>
    <%- include ('../partials/title-meta') %>

        <%- include ('../partials/head-css') %>
</head>

<body class="authentication-bg position-relative">
    <div class="position-absolute start-0 end-0 start-0 bottom-0 w-100 h-100">
        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink"
            xmlns:svgjs="http://svgjs.com/svgjs" width="100%" height="100%" preserveAspectRatio="none"
            viewBox="0 0 1920 1024">
            <g mask="url(#SvgjsMask1046)" fill="none">
                <rect width="1920" height="1024" x="0" y="0" fill="url(#SvgjsLinearGradient1047)"></rect>
                <path d="M1920 0L1864.16 0L1920 132.5z" fill="rgba(255, 255, 255, .1)"></path>
                <path d="M1864.16 0L1920 132.5L1920 298.4L1038.6100000000001 0z" fill="rgba(255, 255, 255, .075)">
                </path>
                <path d="M1038.6100000000001 0L1920 298.4L1920 379.53999999999996L857.7000000000002 0z"
                    fill="rgba(255, 255, 255, .05)"></path>
                <path d="M857.7 0L1920 379.53999999999996L1920 678.01L514.57 0z" fill="rgba(255, 255, 255, .025)">
                </path>
                <path d="M0 1024L939.18 1024L0 780.91z" fill="rgba(0, 0, 0, .1)"></path>
                <path d="M0 780.91L939.18 1024L1259.96 1024L0 585.71z" fill="rgba(0, 0, 0, .075)"></path>
                <path d="M0 585.71L1259.96 1024L1426.79 1024L0 408.19000000000005z" fill="rgba(0, 0, 0, .05)"></path>
                <path d="M0 408.19000000000005L1426.79 1024L1519.6599999999999 1024L0 404.09000000000003z"
                    fill="rgba(0, 0, 0, .025)"></path>
            </g>
            <defs>
                <mask id="SvgjsMask1046">
                    <rect width="1920" height="1024" fill="#ffffff"></rect>
                </mask>
                <linearGradient x1="11.67%" y1="-21.87%" x2="88.33%" y2="121.88%" gradientUnits="userSpaceOnUse"
                    id="SvgjsLinearGradient1047">
                    <stop stop-color="#0c4b05" offset="0"></stop>
                    <stop stop-color="#5d8216" offset="1"></stop>
                </linearGradient>
            </defs>
        </svg>
    </div>
    <div class="account-pages pt-2 pt-sm-5 pb-4 pb-sm-5 position-relative">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-xxl-4 col-lg-5">
                    <div class="card">

                        <!-- Logo -->
                        <div class="card-header pt-4 text-center">
                            <div class="auth-brand mb-0">
                                <a href="/" class="logo-dark">
                                    <span><img src="/assets/images/logo.png" alt="dark logo" height="65"></span>
                                </a>
                                <a href="/" class="logo-light">
                                    <span><img src="/assets/images/logo.png" alt="logo" height="65"></span>
                                </a>
                            </div>
                        </div>

                        <div class="card-body p-4">

                            <div class="text-center w-75 m-auto">
                                <h4 class="text-dark-50 text-center pb-0">Sign In as Assessor</h4>
                                <p class="text-muted mb-4">Enter your username and password.</p>
                            </div>

                            <form class="signin-validation" action="/assessor/signin" method="POST">


                                <div class="mb-3">
                                    <label for="username" class="form-label">Username</label>
                                    <input type="text" class="form-control" id="login-username" name="username"
                                        value="<%=username%>" placeholder="Username" tabindex="1">
                                </div>

                                <div class="mb-3">
                                  
                                    <label for="password" class="form-label">Password</label>
                                    <div class="input-group input-group-merge">
                                        <input type="password" class="form-control" id="login-password" name="password"
                                            placeholder="Password" tabindex="2">
                                        <div class="input-group-text" data-password="false">
                                            <span class="password-eye"></span>
                                        </div>
                                    </div>
                                    <!-- Placeholder for the error message -->
                                    <div class="error-message"></div>
                                </div>

                                <% if(error_msg !='' ){ %>
                                    <div class="mb-2">
                                        <div id="error" class="text-danger">
                                            <%= error_msg %>
                                        </div>
                                    </div>
                         
                                    <% } %>
                        
                     


                                    <div class="mb-3 mb-0 text-center d-flex justify-content-between align-items-center">
                                        <button class="btn btn-primary" type="submit" tabindex="3">Log In</button>
                                        <a href="/signin" class="text-primary" tabindex="4">Sign in as User</a>
                                    </div>

                            </form>
                        </div> <!-- end card-body -->
                    </div>
                    <!-- end card -->



                </div> <!-- end col -->
            </div>
            <!-- end row -->
        </div>
        <!-- end container -->
    </div>
    <!-- end page -->

    <footer class="footer footer-alt">
        <span class="text-white-50">
            <script>document.write(new Date().getFullYear())</script> Â© Accreditation
        </span>
    </footer>

    <%- include ('../partials/footer-scripts') %>

    <script src="/assets/js/lib/jquery.min.js"></script>

    <script src="/assets/js/plugins/jquery-validation/jquery.validate.min.js"></script>
    <script>
        !(function () {
            "use strict";
            class e {
                static initValidation() {
                    // Initialize jQuery validation for sign-in form
                    jQuery(".signin-validation").validate({
                        rules: {
                            username: {
                                required: true,

                            },
                            password: {
                                required: true,

                            }
                        },
                        messages: {
                            username: {
                                required: "Please enter your username",

                            },
                            password: {
                                required: "Please enter your password",

                            }
                        },
                        errorPlacement: function (error, element) {
                            // Custom placement for the password error
                            if (element.attr("name") == "password") {
                                error.appendTo(element.closest('.mb-3').find('.error-message'));
                            } else {
                                error.insertAfter(element);
                            }
                        }
                        // Removed submitHandler as requested
                    });
                }

                static init() {
                    this.initValidation();
                }
            }

            // Call init function on document ready
            $(document).ready(() => e.init());
        })();
    </script>
        <!-- App js -->
        <script src="assets/js/app.min.js"></script>
</body>

</html>